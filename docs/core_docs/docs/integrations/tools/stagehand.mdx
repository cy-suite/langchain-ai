---
sidebar_label: Stagehand AI Web Automation Toolkit
hide_table_of_contents: true
---

import CodeBlock from "@theme/CodeBlock";
import Example from "@examples/agents/stagehand_ai_web_browser.ts";
import { StagehandToolkit } from "@langchain/community/agents/toolkits/stagehand";

# Stagehand Toolkit

The Stagehand Toolkit equips your AI agent with the following capabilities:

- **navigate()**: Navigate to a specific URL
- **act()**: Perform browser automation actions like clicking, typing, and navigation
- **extract()**: Extract structured data from web pages using Zod schemas
- **observe()**: Get a list of possible actions and elements on the current page

## Setup

1. Install the required packages:

```bash
npm install @langchain/community @langchain/core
```

2. Create a Stagehand Instance
   If you plan to run the browser locally, you'll also need to install Playwright's browser dependencies.

```bash
npx playwright install
```

3. Set up your model provider credentials:

For OpenAI:

```bash
export OPENAI_API_KEY="your-openai-api-key"
```

For Anthropic:

```bash
export ANTHROPIC_API_KEY="your-anthropic-api-key"
```

## Usage, Standalone, Local LangChain

```typescript
import { Stagehand } from "@browserbasehq/stagehand";
import { StagehandActTool } from "./StagehandActTool";
import { initializeAgentExecutor } from "@langchain/agents";

async function main() {
  // Initialize Stagehand once and pass it to the tools
  const stagehand = new Stagehand({
    env: "LOCAL",
    enableCaching: true,
  });
  await stagehand.init();
  await stagehand.page.goto("https://example.com");

  const actTool = new StagehandActTool(stagehand);
  const tools = [actTool];

  const executor = await initializeAgentExecutor(
    tools,
    /* your LLM instance */,
    "zero-shot-react-description"
  );

  const result = await executor.call({ input: "Click on the login button" });

  console.log(`Agent answer: ${result.output}`);
}

main();
```

## Usage, Standalone, Local Langgraph

```typescript
import { Stagehand } from "@browserbasehq/stagehand";
import { StagehandActTool } from "./StagehandActTool";
import { ChatOpenAI } from "@langchain/openai";
import { createReactAgent } from "@langchain/langgraph/prebuilt";

async function main() {
  // Initialize Stagehand once and pass it to the tools
  const stagehand = new Stagehand({
    env: "LOCAL",
    enableCaching: true,
  });
  await stagehand.init();
  await stagehand.page.goto("https://example.com");

  const actTool = new StagehandActTool(stagehand);
  const tools = [actTool];

  // Initialize the model
  const model = new ChatOpenAI({
    modelName: "gpt-4",
    temperature: 0,
  });

  // Create the agent using langgraph
  const agent = createReactAgent({
    llm: model,
    tools: tools,
  });

  // Execute the agent
  const result = await agent.invoke({ input: "Click on the login button" });

  console.log(`Agent answer: ${result.output}`);
}

main();

```


## Usage, Standalone, on Browserbase - remote headless browser

If you want to run the browser remotely, you can use the Browserbase platform.

You need to set the `BROWSERBASE_API_KEY` environment variable to your Browserbase API key.

```bash
export BROWSERBASE_API_KEY="your-browserbase-api-key"
```

You also need to set `BROWSERBASE_PROJECT_ID` to your Browserbase project ID.

```bash
export BROWSERBASE_PROJECT_ID="your-browserbase-project-id"
```

Then initialize the Stagehand instance with the `BROWSERBASE` environment.

```typescript
const stagehand = new Stagehand({
  env: "BROWSERBASE",
});
```

## Usage in an Agent

<CodeBlock language="typescript">{Example}</CodeBlock>

## Related

- Tool [conceptual guide](/docs/concepts/tools)
- Tool [how-to guides](/docs/how_to/#tools)
- [Stagehand Documentation](https://github.com/browserbase/stagehand#readme)
