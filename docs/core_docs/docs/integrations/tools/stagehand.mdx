---
sidebar_label: Stagehand AI Web Automation Toolkit
hide_table_of_contents: true
---

import CodeBlock from "@theme/CodeBlock";

# Stagehand Tool

The Stagehand Tool provides your agent with the following capabilities:

- **act()**: Perform browser automation actions like clicking, typing, and navigation
- **extract()**: Extract structured data from web pages using Zod schemas
- **observe()**: Get a list of possible actions and elements on the current page

## Setup

1. Install the required packages:

```bash
npm install @browserbasehq/stagehand zod
```

2. Create a Stagehand Instance
If you plan to run the browser locally, you'll also need to install Playwright's browser dependencies.

```bash
npm exec playwright install
```

3. Set up your model provider credentials:

For OpenAI:
```bash
export OPENAI_API_KEY="your-openai-api-key"
```
For Anthropic:
```bash
export ANTHROPIC_API_KEY="your-anthropic-api-key"
```

## Usage, Standalone

```typescript
import { Stagehand } from "@browserbasehq/stagehand";
import { StagehandActTool } from "./StagehandActTool";
import { initializeAgentExecutor } from "@langchain/agents";

async function main() {
  // Initialize Stagehand once and pass it to the tools
  const stagehand = new Stagehand({
    env: "LOCAL",
    enableCaching: true,
  });
  await stagehand.init();
  await stagehand.page.goto("https://example.com");

  const actTool = new StagehandActTool(stagehand);
  const tools = [actTool];

  const executor = await initializeAgentExecutor(
    tools,
    /* your LLM instance */,
    "zero-shot-react-description"
  );

  const result = await executor.call({ input: "Click on the login button" });

  console.log(`Agent answer: ${result.output}`);
}

main();
```

## Usage in an Agent

```typescript
import { Stagehand } from "@browserbasehq/stagehand";
import { z } from "zod";
import { ChatOpenAI } from "@langchain/openai";
import { initializeAgentExecutorWithOptions } from "langchain/agents";
import { Tool } from "langchain/tools";

const run = async () => {
// Initialize Stagehand
const stagehand = new Stagehand();
await stagehand.init();
// Create Stagehand tools
class StagehandActTool extends Tool {
name = "act";
description = "Performs an action on the web page";
async call(input: string) {
const result = await stagehand.act({ action: input });
return Action completed: ${result.message};
}
}
class StagehandExtractTool extends Tool {
name = "extract";
description = "Extracts information from the web page";
async call(input: string) {
const schema = z.object({ data: z.string() });
const result = await stagehand.extract({
instruction: input,
schema,
});
return JSON.stringify(result);
}

}

class StagehandObserveTool extends Tool {
name = "observe";
description = "Lists possible actions on the current page";
async call() {
const actions = await stagehand.observe();
return JSON.stringify(actions);
}
}

// Initialize LangChain components
const model = new ChatOpenAI({ temperature: 0 });
const tools = [
new StagehandActTool(),
new StagehandExtractTool(),
new StagehandObserveTool(),
];

// Create the agent
const executor = await initializeAgentExecutorWithOptions(tools, model, {
agentType: "zero-shot-react-description",
verbose: true,
});

// Run the agent
const result = await executor.invoke({
input: "Go to github.com/browserbase/stagehand and find the top contributor",
});
console.log(result.output);
};
```


## Related

- Tool [conceptual guide](/docs/concepts/tools)
- Tool [how-to guides](/docs/how_to/#tools)
- [Stagehand Documentation](https://github.com/browserbase/stagehand#readme)